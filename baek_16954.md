# Python

## baek 16954 움직이는 미로 탈출 골드V

https://www.acmicpc.net/problem/16954



> pypy3 160ms
>
> python3 120ms



* 문제

  > 욱제는 학교 숙제로 크기가 8×8인 체스판에서 탈출하는 게임을 만들었다. 체스판의 모든 칸은 빈 칸 또는 벽 중 하나이다. 욱제의 캐릭터는 가장 왼쪽 아랫 칸에 있고, 이 캐릭터는 가장 오른쪽 윗 칸으로 이동해야 한다.
  >
  > 이 게임의 특징은 벽이 움직인다는 점이다. 1초마다 모든 벽이 아래에 있는 행으로 한 칸씩 내려가고, 가장 아래에 있어서 아래에 행이 없다면 벽이 사라지게 된다. 욱제의 캐릭터는 1초에 인접한 한 칸 또는 대각선 방향으로 인접한 한 칸으로 이동하거나, 현재 위치에 서 있을 수 있다. 이동할 때는 빈 칸으로만 이동할 수 있다.
  >
  > 1초 동안 욱제의 캐릭터가 먼저 이동하고, 그 다음 벽이 이동한다. 벽이 캐릭터가 있는 칸으로 이동하면 더 이상 캐릭터는 이동할 수 없다.
  > 
  > 욱제의 캐릭터가 가장 오른쪽 윗 칸으로 이동할 수 있는지 없는지 구해보자.
  
* 입력

  > 8개 줄에 걸쳐서 체스판의 상태가 주어진다. '`.`'은 빈 칸, '`#`'는 벽이다. 가장 왼쪽 아랫칸은 항상 벽이 아니다.
  >
  > ```bash
  > ........
  > ........
  > ........
  > ........
  > ........
  > .#######
  > #.......
  > ........
  > ```

* 출력

  > 욱제의 캐릭터가 가장 오른쪽 윗 칸에 도착할 수 있으면 1, 없으면 0을 출력한다.
  >
  > ```bash
  > 1
  > ```



```python
map = [input() for _ in range(8)] # 지도 배열 표시
q = [(7, 0, 8)] # 주인공의 출발값을 리스트에 넣어주고
dy = (-1, -1, -1, 0, 0, 0, 1, 1, 1) # ↖, ↑, ↗, ←, -, →, ↙, ↓, ↘
dx = (-1, 0 , 1, -1, 0, 1, -1, 0, 1)
result = False # 결과는 0이나 1로 출력하면 됨

def bfs(): # 갈 수 있는 좌표가 존재하는 동안에,,
    while q:
        y, x, current = q.pop() # 현재 que에 있는 좌표를 꺼내서
        for i in range(9): # 좌표를 돌면서
            ny, nx = y + dy[i], x+dx[i]
            if 0 <= ny < current and 0 <= nx < 8 and map[ny][nx] == '.': # 지도에서 벗어나지 않고
                if ny == 0:
                    return 1
                if map[ny-1][nx] == '.': # 움직일 좌표의 바로 윗칸이 벽이 아니거나, 현재 좌표가 벽이 아니라면
                    if ny - 1 == 0: # 호시탐탐,, 첫 번째 행에 도달했다면 return
                        return 1
                    q.append([ny-1, nx, current-1]) # '#'을 움직이기 보다 땅과 사람을 움직임.
    return 0

print(bfs())
```

> 하,, 솔직히 고민을 계속했다.
>
> que에 있는 좌표를 하나 씩 실행할 때마다 '#'들이 내려 가도록 코드를 짰기 때문에, 분명 내려가야할 필요가 없을 때도 '#'들이 내려갔다. 그래서 한참을 고민하다가 결국 다른 사람의 풀이를 봤다.
>
> 이 풀이가 진짜 센세이션이었는데 그 이유는 '#'대신 땅과 사람을 움직이는 코드였기 때문이다. 그리고 중간 중간 도착지에 다다를 때마다 당연하게 return해줌으로써 시간을 줄이기까지 했다. 나도 하루 빨리 이렇게 멋진 코드를 짤 수 있었으면 좋겠다.



* 모범답안

  ```python
  
  ```
  
  > 
  >